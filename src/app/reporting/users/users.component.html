<section fxFlex.gt-sm="70%" fxFlex="100%;">

    <div class="users_header">
        <div class="text_header">Users</div>
    </div>

    <mat-table [dataSource]="dataSource">
    
        <ng-container matColumnDef="userId">
            <mat-header-cell *matHeaderCellDef fxFlex="20%" fxFlex.gt-sm="12%">User ID</mat-header-cell>
            <mat-cell *matCellDef="let element " fxFlex="20%" fxFlex.gt-sm="12%"> 
                <button  fxFlex="40px;" fxLayoutAlign="center" mat-raised-button class="btn" (click)="openDialog(element.userId)">   <mat-icon>edit</mat-icon> </button>
            </mat-cell>
        </ng-container>
    
        <ng-container matColumnDef="firstName">
            <mat-header-cell *matHeaderCellDef>First Name</mat-header-cell>
            <mat-cell *matCellDef="let element "> {{element.firstName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="lastName">
            <mat-header-cell *matHeaderCellDef>Last Name</mat-header-cell>
            <mat-cell *matCellDef="let element "> {{element.lastName}}</mat-cell>
        </ng-container>

        <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
            <mat-cell *matCellDef="let element "> {{element.email}}</mat-cell>
        </ng-container>
        
        <ng-container matColumnDef="roles">
            <mat-header-cell *matHeaderCellDef>Roles</mat-header-cell>
            <mat-cell *matCellDef="let element "> 
                <div *ngFor="let role of element?.roles">
                    {{ role.name }}, &nbsp;
                </div>
            </mat-cell>
        </ng-container>


        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    
    </mat-table>

    
    <mat-paginator [pageSizeOptions]="[10, 20, 50]"
    showFirstLastButtons 
    aria-label="Select page of periodic elements">
    </mat-paginator>
    
</section>